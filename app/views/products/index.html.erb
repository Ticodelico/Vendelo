<%= turbo_frame_tag 'home' do %>
  <div class="py-2 px-4 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500  text-white font-semibold shadow-md hover:bg-blue-700 ">
    <ul class="flex flex-wrap text-sm font-medium text-center text-gray-800">
       <%= render partial: 'category', collection: @categories %>
    </ul>
   </div>
  <%= turbo_frame_tag :products do %>
      <%= turbo_frame_tag "products-#{@pagy.page}", class: 'products' do %>
      <div class="p-10 grid grid-cols-1 sm:grid-cols-1 md:grid-cols-3 lg:grid-cols-3 xl:grid-cols-4 gap-5 ">
      <%= render partial: 'product', collection: @products %>
      </div>
      <% if @pagy.next %>
      <% end %>
      <%= turbo_frame_tag "products-#{@pagy.next}", class: 'products', src: pagy_url_for(@pagy, @pagy.next), loading: :lazy if @pagy.next %>
    <% end %>
<% end %>
<% end %>

